## Web开发模式

### 服务端渲染的Web开发模式
服务端渲染的Web开发模式：服务器发送给客户端的HTML页面，是在服务器通过字符串的拼接，动态生成的。因此客户端不需要使用Ajax这样的技术额外请求页面的数据。
优点：
1. 前端耗时少；
2. 有利于SEO。

缺点：
1. 占用服务器端资源。
2. 不利于前后端分离，开发效率低。


### 前后端分离的Web开发模式
前后端分离的Web开发模式：依赖于Ajax技术的广泛应用。简而言之，前后端分离的Web开发模式，就是后端只负责提供API接口，前端使用Ajax调用接口的开发模式。
优点：
1. 开发体验好。前端专注于UI页面的开发，后端专注于api的开发；
2. 用户体验好。Ajax技术的广泛应用，极大的提高了用户的体验，可以轻松实现页面的局部刷新；
3. 减轻了服务器端的渲染压力。
缺点：
不利于SEO。 但是可以利用Vue，React等前端框架的SSR技术来解决。

## 身份认证
身份认证（Authentication）又称“身份验证”，“鉴权”，是指通过一定的手段，完成对用户身份的确认。
不同的开发模式下的身份认证：
1. 对于服务器渲染推荐使用Session认证机制；
2. 前后端分离推荐使用 JWT认证机制。

## HTTP协议的无状态性
HTTP协议的无状态性，指的是客户端的每次HTTP请求都是独立的，连续多个请求之间没有直接的关系，服务器不会主动保留每次HTTP请求的状态。

Web开发中，可以使用Cookie来突破HTTP协议的无状态性，类似于现实生活中的会员卡身份认证方式。

## 什么是Cookie
Cookie是存储在用户浏览器中的一段不超过4KB的字符串。它由一个名称（Name）,一个值（Value）和其他几个用于控制Cookie有效期，安全性，使用范围的可选属性组成。
不同域名下的Cookie各自独立，每当客户端发起请求时，会自动把当前域名下所有未过期的Cookie 一同发送到服务器。
Cookie的几大特性：
1. 自动发送
2. 域名独立
3. 过期时限
4. 4KB限制

### Cookie的安全性
由于Cookie是存储在浏览器中的，而且浏览器也提供了读写Cookie的API，因此Cookie很容易被伪造，不具备安全性。
不要使用Cookie存储重要且隐私的数据，例如用户的身份信息和密码等。

## JWT认证机制
1. 了解Session认证的局限性
Session认证机制需要配合Cookie才能实现。由于Cookie默认不支持跨域访问，所以，当涉及到 前端 跨域请求 后端接口 的时候，需要做很多额外的配置，才能实现跨域Session认证。
当前端请求后端接口不存在跨域问题的时候，推荐使用Session身份认证机制；
当前端需要跨域请求后端接口的时候，不推荐使用Session身份认证机制，推荐使用JWT认证机制。
JWT（JSON Web Token）是目前最流行的跨域认证解决方案。
JWT的工作原理：用户的信息通过Token字符串的形式，保存在客户端浏览器中。
服务器通过还原Token字符串的形式来认证用户的身份。

### JWT的使用方式
JWT的三个组成部分，从前到后分别是Header,Payload,Signature.
其中Payload才是真正的用户信息，它是用户信息经过加密之后生成的字符串，
Header和Signature是安全性相关的部分，只是为了保证Token的安全性。

### 安装JWT相关的包
npm install jsonwebtoken express-jwt
jsonwebtoken,用于生成JWT字符串；
express-jwt，用于将JWT字符串解析还原成JSON对象。